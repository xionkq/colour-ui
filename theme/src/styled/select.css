.select {
  --property-color-light: var(--default-bg-color);
  --property-color-dark: var(--default-bg-color);

  @apply h-8 w-60;
  @apply relative z-[1];
  @apply text-sm font-medium text-black;
  @apply rounded border border-solid border-transparent;
  @apply px-[11px];
  @apply property-transition;
  @apply cursor-pointer;
  @apply flex items-center gap-2;

  /*The double-layer background achieves a rounded gradient border*/
  background:
    linear-gradient(white, white) padding-box,
    linear-gradient(to right, var(--property-color-light), var(--property-color-dark)) border-box;

  &:not(:disabled, [disabled], .select-disabled) {
    &:hover,
    &:focus,
    &:focus-visible,
    &:focus-within,
    &:active {
      --property-color-light: var(--default-bg-hover-color);
      --property-color-dark: var(--default-bg-hover-color);

      outline: unset;
    }

    &:focus,
    &:focus-visible,
    &:focus-within {
      @apply c-shadow;
    }
  }

  @supports (appearance: base-select) {
    appearance: base-select;

    &::picker(select) {
      @apply my-2 rounded-lg border-0 p-2;
      appearance: base-select;
      box-shadow: 0 6px 16px 0 rgba(0, 0, 0, 0.1);
    }
  }

  /*&::picker-icon {*/
  /*  @apply hidden;*/
  /*}*/

  /*&-info {*/
  &[class*='-info'] {
    &:not(:disabled, [disabled], .select-disabled) {
      &:hover,
      &:focus,
      &:focus-visible,
      &:focus-within,
      &:active {
        --property-color-light: var(--info-color-light);
        --property-color-dark: var(--info-color-dark);
      }
    }
  }

  /*&-success {*/
  &[class*='-success'] {
    &:not(:disabled, [disabled], .select-disabled) {
      &:hover,
      &:focus,
      &:focus-visible,
      &:focus-within,
      &:active {
        --property-color-light: var(--success-color-light);
        --property-color-dark: var(--success-color-dark);
      }
    }
  }

  /*&-warning {*/
  &[class*='-warning'] {
    &:not(:disabled, [disabled], .select-disabled) {
      &:hover,
      &:focus,
      &:focus-visible,
      &:focus-within,
      &:active {
        --property-color-light: var(--warning-color-light);
        --property-color-dark: var(--warning-color-dark);
      }
    }
  }

  /*&-error {*/
  &[class*='-error'] {
    &:not(:disabled, [disabled], .select-disabled) {
      &:hover,
      &:focus,
      &:focus-visible,
      &:focus-within,
      &:active {
        --property-color-light: var(--error-color-light);
        --property-color-dark: var(--error-color-dark);
      }
    }
  }

  option {
    @apply rounded-sm px-3 py-1.5 text-sm;
    transition:
      color,
      background-color 0.2s ease;

    &:not(:disabled) {
      &:hover,
      &:focus-visible {
        @apply bg-(--property-color-light)/30;
        @apply cursor-pointer;
      }
    }
  }
}

.select {
  /*&-lg {*/
  &[class*='-lg'] {
    @apply h-10;
    @apply px-[15px];
    @apply text-base;
  }

  /*&-sm {*/
  &[class*='-sm'] {
    @apply h-6;
    @apply px-[7px];
    @apply text-xs;
  }
}

.select {
  /*&-lg {*/
  &[multiple] {
    @apply h-auto;
  }
}

.select {
  &[disabled],
  &:disabled,
  &.select-disabled {
    --default-bg-disabled-color: color-mix(in hsl, var(--default-bg-color), white 70%);

    @apply cursor-not-allowed text-black/50;
    background:
      linear-gradient(var(--default-bg-disabled-color), var(--default-bg-disabled-color)) padding-box,
      linear-gradient(to right, var(--property-color-light), var(--property-color-dark)) border-box;

    option {
      &:hover,
      &:focus-visible {
        @apply bg-transparent;
        @apply cursor-not-allowed;
      }
    }
  }
}

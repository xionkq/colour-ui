.dialog {
  @apply relative grid;
  grid-auto-columns: max-content auto;
}

.dialog-content {
  @apply col-start-2 row-start-1 min-w-0;
}

.dialog-side {
  @apply pointer-events-none invisible fixed start-0 top-0 z-10 col-start-1 row-start-1 grid w-full grid-cols-1 grid-rows-1 items-start justify-items-center overflow-x-hidden overflow-y-hidden overscroll-contain opacity-0;
  transition:
      opacity 0.2s ease-out 0.1s,
      visibility 0.3s ease-out 0.1s;
  height: 100vh;
  z-index: 1000;

  > .dialog-overlay {
    @apply sticky top-0 cursor-pointer place-self-stretch;
    background-color: oklch(0% 0 0 / 40%);
  }

  > * {
    @apply col-start-1 row-start-1;
  }

  > *:not(.dialog-overlay) {
    @apply will-change-transform;
    transition: translate 0.3s ease-out;
    translate: -100%;
  }
}

.dialog-toggle {
  @apply fixed h-0 w-0 appearance-none opacity-0;

  &:checked {
    & ~ .dialog-side {
      @apply pointer-events-auto visible overflow-y-auto opacity-100;

      & > *:not(.dialog-overlay) {
        translate: 0;
      }
    }
  }

  &:focus-visible ~ .dialog-content label.dialog-button {
    outline: 2px solid;
    outline-offset: 2px;
  }
}

.dialog-end {
  grid-auto-columns: auto max-content;

  > .dialog-toggle {
    & ~ .dialog-content {
      @apply col-start-1;
    }

    & ~ .dialog-side {
      @apply col-start-2 justify-items-end;
    }

    & ~ .dialog-side > *:not(.dialog-overlay) {
      translate: 100%;
    }

    &:checked ~ .dialog-side > *:not(.dialog-overlay) {
      translate: 0;
    }
  }
}
